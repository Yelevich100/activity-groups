<!DOCTYPE html>
<html>

<head>
    <title>Login</title>

    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <!-- <header class="pageHeader">
        <h2>User Login</h2>
    </header>

    <form id="myForm">
        <table>
            <tr>
                <td><label for="userName">User Name:</label> </td>
                <td><input type="text" name="userName" id="userName" size="20" required></td>
            </tr>
            <tr>
                <td><label for="password">Password:</label></td>
                <td><input type="password" name="password" id="password" size="20" required />
                </td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="Login" id="submitBtn" /></td>
            </tr>

        </table>
    </form> -->
    <br>
    <br>
    <br>
    <center>
        <div class="container">
            <div class="row">
                <div class="col-md-3">

                </div>

                <div class="col-md-6 main">

                    <form action="/registration/login">

                        <h1> User Login </h1>

                        <input class="box" type="email" name="userName" id="userName" required /><br>

                        <input class="box" type="password" name="password" id="password" required /><br>
                        <br>
                        <input type="submit" id="submitDetails" name="submitDetails" value="Submit" /><br>

                    </form>

                </div>

                <div class="col-md-3">
                </div>

            </div>
        </div>
    </center>
    <script>
        // listen to click event of the submit button
        $('#submitBtn').click(function (e) {
            // make sure the form is not submitted
            e.preventDefault();
            // run the form validations
            document.getElementById('myForm').checkValidity();
            // check if the form is valid
            if (document.getElementById('myForm').reportValidity()) {
                // form is valid, create a post request
                $.ajax({
                    type: "post",
                    url: "/registration/login",
                    // the user data 
                    data: {
                        userName: $('#userName').val(),
                        password: $('#password').val()
                    },
                    complete: // this function will run if the request is successful
                        function (xhr, status) {
                            // check if there is an error
                            if (status === 'error')
                                alert(xhr.responseText);
                            else
                                alert('OK');
                        }
                });
            }
        });
    </script>
</body>

</html>