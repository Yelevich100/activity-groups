<!DOCTYPE html>
<html>

<head>
    <title>Registration</title>

    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/styles.css">

</head>

<body>

    <br>
    <br>
    <br>
    <center>
        <div class="container">
            <div class="row">
                <div class="col-md-3">

                </div>

                <div class="col-md-6 main">

                    <form id="myForm">

                        <h1> User Registration </h1>

                        <input class="box" type="text" name="userName" id="userName" placeholder="Name" required /><br>

                        <input class="box" type="email" name="email" id="email" placeholder="E-Mail " required /><br>

                        <input class="box" type="password" name="password" id="password" placeholder="Password "
                            required /><br>

                        <input class="box" type="text" name="phone" id="phone" placeholder="Phone Number "
                            required /><br>
                        <br>
                        <input type="submit" id="submitBtn" name="submitBtn" value="Submit" /><br>

                    </form>

                </div>

                <div class="col-md-3">
                </div>

            </div>
        </div>
    </center>
    <script>
        // listen to click event of the submit button
        $('#submitBtn').click(function (e) {
            // make sure the form is not submitted
            e.preventDefault();
            // run the form validations
            document.getElementById('myForm').checkValidity();
            // check if the form is valid
            if (document.getElementById('myForm').reportValidity()) {
                // form is valid, create a post request
                $.ajax({
                    type: "post",
                    url: "/registration/register",
                    // the user data 
                    data: {
                        userName: $('#userName').val(),
                        email: $('#email').val(),
                        password: $('#password').val(),
                        phone: $('#phone').val()
                    },
                    complete: // this function will run if the request is successful
                        function (xhr, status) {
                            // check if there is an error
                            if (status === 'error')
                                alert(xhr.responseText);
                            else
                                alert('OK');
                        }
                });
            }
        });
    </script>
</body>

</html>